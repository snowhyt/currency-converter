export const parseHeaders = (headers) => {
    const result = {};
    if (!headers) {
        return result;
    }
    for (const [key, value] of Object.entries(headers)) {
        if (value === undefined) {
            continue;
        }
        result[key.toLowerCase()] = convertHeader(value);
    }
    return result;
};
export const convertHeader = (header) => {
    if (typeof header === "string") {
        return header;
    }
    if (Array.isArray(header)) {
        return header.join(",");
    }
    return String(header);
};
export function parseCookies(cookies) {
    if (!cookies) {
        return [];
    }
    return typeof cookies === "string"
        ? cookies.split(/(?<!Expires=\w+),/i).map((c) => c.trim())
        : cookies;
}
